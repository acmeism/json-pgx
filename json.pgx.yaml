---
+top: TOP
TOP:
  .any:
  - -pass: 1
    .ref: map
  - -pass: 1
    .ref: seq
boolean:
  .any:
  - -pass: 1
    .ref: 'true'
  - -pass: 1
    .ref: 'false'
'false':
  .rgx: (f)alse
map:
  .all:
  - .rgx: ~\{~
  - +qty: '?'
    -pass: 1
    .ref: pair
    .sep:
      .rgx: ~,~
  - .rgx: ~\}~
node:
  .any:
  - -pass: 1
    .ref: map
  - -pass: 1
    .ref: seq
  - -pass: 1
    .ref: scalar
'null':
  .rgx: 'null'
number:
  .rgx: ([0-9]+(?:\.[0-9]*)?|\.[0-9]+)
pair:
  .all:
  - .ref: string
  - .rgx: ~:~
  - -pass: 1
    .ref: node
scalar:
  .any:
  - .ref: string
  - .ref: number
  - .ref: boolean
  - .ref: 'null'
seq:
  .all:
  - .rgx: ~\[~
  - +qty: '?'
    -pass: 1
    .ref: node
    .sep:
      .rgx: ~,~
  - .rgx: ~\]~
string:
  .rgx: '"((?:\\\\|\\"|[^"\n])*)"'
'true':
  .rgx: (t)rue
